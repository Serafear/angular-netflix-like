{"ast":null,"code":"import { Router } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { AbstractControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction InputBoxComponent_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Enter a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InputBoxComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, InputBoxComponent_div_7_div_1_Template, 2, 0, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.email.errors.email);\n  }\n}\nexport let InputBoxComponent = /*#__PURE__*/(() => {\n  class InputBoxComponent {\n    constructor(router, fb) {\n      this.router = router;\n      this.fb = fb;\n    }\n    ngOnInit() {\n      this.form = this.fb.group({\n        email: ['', [emailValidator]]\n      });\n    }\n    onFocus(event) {\n      event.target.parentElement.querySelector('label').classList.add('focused');\n    }\n    onBlur(event) {\n      if (event.target.value === '') {\n        event.target.parentElement.querySelector('label').classList.remove('focused');\n      }\n    }\n    onInput(event) {\n      const input = event.target;\n      input.style.borderBottom = '2px solid';\n      if (this.email.value) {\n        if (this.email.invalid && (this.email.dirty || this.email.touched)) {\n          input.style.border = '2px solid red';\n        } else {\n          input.style.border = '2px solid green';\n        }\n      } else {\n        input.style.border = '2px solid #ddd';\n      }\n    }\n    get email() {\n      return this.form.get('email');\n    }\n    goToNextPage() {\n      this.router.navigate(['next-page']);\n    }\n  }\n  InputBoxComponent.ɵfac = function InputBoxComponent_Factory(t) {\n    return new (t || InputBoxComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n  InputBoxComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InputBoxComponent,\n    selectors: [[\"app-input-box\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 8,\n    vars: 2,\n    consts: [[1, \"input-form\", 3, \"formGroup\"], [1, \"input-container\"], [\"type\", \"text\", \"formControlName\", \"email\", \"id\", \"emailInput\", 3, \"focus\", \"blur\", \"input\"], [\"for\", \"emailInput\"], [1, \"input-btn\", 3, \"click\"], [4, \"ngIf\"]],\n    template: function InputBoxComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"input\", 2);\n        i0.ɵɵlistener(\"focus\", function InputBoxComponent_Template_input_focus_2_listener($event) {\n          return ctx.onFocus($event);\n        })(\"blur\", function InputBoxComponent_Template_input_blur_2_listener($event) {\n          return ctx.onBlur($event);\n        })(\"input\", function InputBoxComponent_Template_input_input_2_listener($event) {\n          return ctx.onInput($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"label\", 3);\n        i0.ɵɵtext(4, \"Email address\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function InputBoxComponent_Template_button_click_5_listener() {\n          return ctx.goToNextPage();\n        });\n        i0.ɵɵtext(6, \"Commencer \\u00A0\\u25B6\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(7, InputBoxComponent_div_7_Template, 2, 1, \"div\", 5);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.email.value && ctx.email.invalid && (ctx.email.dirty || ctx.email.touched));\n      }\n    },\n    dependencies: [FormsModule, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, CommonModule, i3.NgIf, ReactiveFormsModule, i2.FormGroupDirective, i2.FormControlName],\n    styles: [\".input-container[_ngcontent-%COMP%]{position:relative}#emailInput[_ngcontent-%COMP%]{background-color:#333;background:rgba(0,0,0,.4)}input[type=text][_ngcontent-%COMP%]{padding:10px;font-size:16px;width:100%;border:2px solid #ddd;border-bottom-left-radius:.5rem;border-top-left-radius:.5rem;transition:all .3s;color:#fff}input[type=text][_ngcontent-%COMP%]:focus{border:2px solid #4285f4;outline:none}.ng-invalid.ng-value[_ngcontent-%COMP%]:not(form){border-bottom:2px solid red}input[type=text].ng-invalid.ng-value[_ngcontent-%COMP%]{border-bottom:2px solid red}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:green}input[type=text].ng-valid[_ngcontent-%COMP%]{border:2px solid green}label[_ngcontent-%COMP%]{font-size:14px;transition:all .3s;position:absolute;bottom:10px;padding-left:12px;color:#ddd;cursor:text;pointer-events:none}label.focused[_ngcontent-%COMP%]{transform:translateY(-18px);font-size:10px;color:#ddd}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.input-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1.4rem;justify-content:center;align-items:center;width:32rem}.input-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;cursor:pointer;font-size:larger;border-bottom-right-radius:.5rem;border-top-right-radius:.5rem;height:2.648rem;width:12rem;border:2px solid red}.input-container[_ngcontent-%COMP%]{width:20rem}\"]\n  });\n  return InputBoxComponent;\n})();\nfunction emailValidator(control) {\n  const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n  const email = control.value;\n  return emailRegex.test(email) ? null : {\n    email: true\n  };\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}